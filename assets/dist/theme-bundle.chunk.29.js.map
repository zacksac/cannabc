{"version":3,"file":"theme-bundle.chunk.29.js","mappings":"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","sources":["webpack://bigcommerce-hera/./assets/js/theme/common/utils/safe-string.js","webpack://bigcommerce-hera/./assets/js/theme/product/reviews.js","webpack://bigcommerce-hera/./assets/js/theme/product/video-gallery.js","webpack://bigcommerce-hera/./assets/js/theme/halothemes/haloBundleProducts.js","webpack://bigcommerce-hera/./assets/js/theme/product.js","webpack://bigcommerce-hera/./assets/js/theme/halothemes/haloNextProducts.js","webpack://bigcommerce-hera/./assets/js/theme/halothemes/haloStickyAddToCart.js"],"sourcesContent":["/**\n * This function parses HTML entities in strings\n * @param str: String\n * @returns String\n*/\nexport const safeString = (str) => {\n    const d = new DOMParser();\n    return d.parseFromString(str, 'text/html').body.textContent;\n};\n","import nod from '../common/nod';\nimport { CollapsibleEvents } from '../common/collapsible';\nimport forms from '../common/models/forms';\nimport { safeString } from '../common/utils/safe-string';\nimport { announceInputErrorMessage } from '../common/utils/form-utils';\n\nexport default class {\n    constructor($reviewForm) {\n        this.validator = nod({\n            submit: $reviewForm.find('input[type=\"submit\"]'),\n            tap: announceInputErrorMessage,\n        });\n\n        this.$reviewsContent = $('#product-reviews');\n        this.$reviewsContent2 = $('#tab-reviews');\n        this.$collapsible = $('[data-collapsible]', this.$reviewsContent);\n\n        this.initLinkBind();\n        this.injectPaginationLink();\n        this.collapseReviews();\n    }\n\n    /**\n     * On initial page load, the user clicks on \"(12 Reviews)\" link\n     * The browser jumps to the review page and should expand the reviews section\n     */\n    initLinkBind() {\n       const $content = $('#productReviews-content', this.$reviewsContent);\n\n        $(document).on('click', '.review-link a', event => {\n            event.preventDefault();\n\n            $('.is-open[data-collapsible]', $('.tab-content')).trigger(CollapsibleEvents.click);\n\n            $('[href=\"#tab-reviews-mobile\"]', $('.productView-tab:not(.productView-tab-2)')).trigger(CollapsibleEvents.click);\n\n            if ($(window).width() < 1025) {\n                $('html, body').animate({\n                    scrollTop: this.$reviewsContent2.offset().top - $('.header').height(),\n                }, 700);\n            } else {\n                $('html, body').animate({\n                    scrollTop: this.$reviewsContent.offset().top - $('.header').height(),\n                }, 700);\n            }\n            \n            if (!$content.hasClass('is-open')) {\n                this.$collapsible.trigger(CollapsibleEvents.click);\n            }\n        });\n    }\n\n    collapseReviews() {\n        // We're in paginating state, do not collapse\n        if (window.location.hash && window.location.hash.indexOf('#product-reviews') === 0) {\n            return;\n        }\n\n        // force collapse on page load\n        this.$collapsible.trigger(CollapsibleEvents.click);\n    }\n\n    /**\n     * Inject ID into the pagination link\n     */\n    injectPaginationLink() {\n        const $nextLink = $('.pagination-item--next .pagination-link', this.$reviewsContent);\n        const $prevLink = $('.pagination-item--previous .pagination-link', this.$reviewsContent);\n\n        if ($nextLink.length) {\n            $nextLink.attr('href', `${$nextLink.attr('href')} #product-reviews`);\n        }\n\n        if ($prevLink.length) {\n            $prevLink.attr('href', `${$prevLink.attr('href')} #product-reviews`);\n        }\n    }\n\n    registerValidation(context) {\n        this.context = context;\n        this.validator.add([{\n            selector: '[name=\"revrating\"]',\n            validate: 'presence',\n            errorMessage: safeString(this.context.reviewRating),\n        }, {\n            selector: '[name=\"revtitle\"]',\n            validate: 'presence',\n            errorMessage: safeString(this.context.reviewSubject),\n        }, {\n            selector: '[name=\"revtext\"]',\n            validate: 'presence',\n            errorMessage: safeString(this.context.reviewComment),\n        }, {\n            selector: '.writeReview-form [name=\"email\"]',\n            validate: (cb, val) => {\n                const result = forms.email(val);\n                cb(result);\n            },\n            errorMessage: this.context.reviewEmail,\n        }]);\n\n        return this.validator;\n    }\n\n    validate() {\n        return this.validator.performCheck();\n    }\n}\n","export class VideoGallery {\n    constructor($element) {\n        this.$player = $element.find('[data-video-player]');\n        this.$videos = $element.find('[data-video-item]');\n        this.currentVideo = {};\n        this.bindEvents();\n    }\n\n    selectNewVideo(e) {\n        e.preventDefault();\n\n        const $target = $(e.currentTarget);\n\n        this.currentVideo = {\n            id: $target.data('videoId'),\n            $selectedThumb: $target,\n        };\n\n        this.setMainVideo();\n        this.setActiveThumb();\n    }\n\n    setMainVideo() {\n        this.$player.attr('src', `//www.youtube.com/embed/${this.currentVideo.id}`);\n    }\n\n    setActiveThumb() {\n        this.$videos.removeClass('is-active');\n        this.currentVideo.$selectedThumb.addClass('is-active');\n    }\n\n    bindEvents() {\n        this.$videos.on('click', this.selectNewVideo.bind(this));\n    }\n}\n\nexport default function videoGallery() {\n    const pluginKey = 'video-gallery';\n    const $videoGallery = $(`[data-${pluginKey}]`);\n\n    $videoGallery.each((index, element) => {\n        const $el = $(element);\n        const isInitialized = $el.data(pluginKey) instanceof VideoGallery;\n\n        if (isInitialized) {\n            return;\n        }\n\n        $el.data(pluginKey, new VideoGallery($el));\n    });\n}\n","import utils from '@bigcommerce/stencil-utils';\nimport _ from 'lodash';\nimport modalFactory, { showAlertModal, ModalEvents } from '../global/modal';\nimport haloCalculateFreeShipping from './haloCalculateFreeShipping';\n\nexport default function($scope, context) {\n    const thisProuctId = parseInt(context.productId),\n        $relateTab = $('#halo-related-products'),\n        $bundle = $('#halo-bundle-products'),\n        $bundleList = $bundle.find('.halo-product-list');\n\n    const modal = modalFactory('#modal')[0];\n\n    var currency = context.money;\n\n    showBundle();\n\n    $(document).on('click', '.halo-toggle-options', event => {\n        event.preventDefault();\n\n        var $target = $(event.currentTarget);\n\n        $('.halo-toggle-options').not($target).removeClass('is-focus');\n        $('.halo-detail-options').not($target.next('.halo-detail-options')).removeClass('is-open');\n\n        if (!$target.next('.halo-detail-options').hasClass('is-open')) {\n            $target.addClass('is-focus');\n            $target.next('.halo-detail-options').addClass('is-open');\n        } else {\n            $target.next('.halo-detail-options').removeClass('is-open');\n            $target.removeClass('is-focus');\n        }\n    });\n\n    $(document).on('click', '.halo-option-close', event => {\n        event.preventDefault();\n\n        $('.halo-detail-options').removeClass('is-open');\n        $('.halo-toggle-options').removeClass('is-focus');\n    });\n\n    $(document).on('click', event => {\n        if ($('.halo-detail-options').hasClass('is-open')) {\n            if (($(event.target).closest('.halo-detail-options').length === 0) && ($(event.target).closest('.halo-toggle-options').length === 0)){\n                $('.halo-detail-options').removeClass('is-open');\n                $('.halo-toggle-options').removeClass('is-focus');\n            }\n        }\n    });\n\n    $(document).on('change', '.halo-detail-checkbox', event => {\n        var $target = $(event.currentTarget),\n            id = $target.attr('id').replace('fbt_product',''),\n            product = $('.halo-product-item[data-product-id=\"' + id + '\"]');\n\n        if($target.is(':checked') == false) {\n            product.removeClass('isChecked');\n        } else {\n            product.addClass('isChecked');\n        }\n\n        totalPrice();\n    });\n\n    $(document).on('click', '#halo-addAll', event => {\n        event.preventDefault();\n\n        const $form = $('form', $bundle);\n        var arrPro = new Array();\n\n        $('.halo-detail-checkbox').each((index, val) => {\n            if ($(val).is(':checked')) {\n                arrPro.push(index);\n            }\n        });\n\n        var check = false;\n\n        if (arrPro.length > 0) {\n            check = checkProduct($form, arrPro);\n        }\n\n        if (check) {\n            if (arrPro.length > 0) {\n                var k = arrPro.length;\n\n                $bundle.find('.loadingOverlay').show();\n\n                addToCart($form, 0, arrPro, k);\n            }\n        } else {\n            const errorMessage = 'Please make sure all options have been filled in.';\n\n            if (errorMessage) {\n                const tmp = document.createElement('DIV');\n                tmp.innerHTML = errorMessage;\n\n                return showAlertModal(tmp.textContent || tmp.innerText);\n            }\n        }\n\n        event.preventDefault();\n    });\n\n    function showBundle() {\n        const options = {\n                template: {\n                    item: 'halothemes/product/halo-bundle-products-tmp',\n                    options: 'halothemes/product/halo-bundle-products-options',\n                },\n            };\n\n        var prodBundleId = [],\n            totalBlock = '';\n\n        firstItem();\n\n        if($bundle.hasClass('halo-bundle-login')){\n            totalBlock = '<div class=\"halo-product-total\">\\\n                            <a class=\"button button--secondary halo-product-total-button\" disabled href=\"#\">Log in for pricing</a>\\\n                        </div>';\n        } else{\n            totalBlock = '<div class=\"halo-product-total\">\\\n                            <div class=\"total-price\">\\\n                                <span class=\"text\"><span>Total price:</span></span>\\\n                                <span class=\"price\"></span>\\\n                            </div>\\\n                            <a class=\"button button--secondary halo-product-total-button\" id=\"halo-addAll\" href=\"#\">Add All To Cart</a>\\\n                        </div>';\n        }\n\n        $bundle.find('.bundle-product-right').append(totalBlock);\n\n        $.each(context.productCustomFields, function(index, obj) {\n            if (obj.name == '__bundleid') {\n                prodBundleId = JSON.parse('['+obj.value+']');\n            }\n        });\n\n        prodBundleId = $.grep(prodBundleId, (value) => {\n            return value != thisProuctId;\n        });\n\n        if ($bundle.length > 0 && prodBundleId.length == 0) {\n            var num = 0,\n                list = [];\n\n            $relateTab.find('.card').each((index, val) => {\n                list.push({\n                    index: index,\n                    data: \"\"\n                });\n\n                var pId = $(val).data('product-id');\n\n                if (pId != undefined) {\n                    utils.api.product.getById(pId, options, (err, response) => {\n                        if (err) {\n                            return '';\n                        }\n\n                        list.forEach((element) => {\n                            if(element.index == index){\n                                element.data = response;\n                            }\n                        });\n                        \n                        num++;\n\n                        if(num == $relateTab.find('.card').length){\n                            showList(list);\n                        }\n                    });\n                }\n            });\n        } else if ($bundle.length > 0 && prodBundleId.length > 0) {\n            var num = 0,\n                list = [],\n                listFilter = $.unique(prodBundleId);\n\n            $.each(prodBundleId, function(i, val){\n                list.push({i:i, data: \"\"});\n\n                var pId = prodBundleId[i];\n\n                if (pId != undefined) {\n                    utils.api.product.getById(pId, options, (err, response) => {\n                        if (err) {\n                            return false;\n                        }\n\n                        list.forEach(function(element) {\n                            if(element.i == i){\n                                element.data = response;\n                            }\n                        });\n                        \n                        num++;\n\n                        if(num == prodBundleId.length){\n                            showList(list);\n                        }\n                    });\n                }\n            });\n        }\n    }\n\n    function firstItem(){\n        const firstItem = $bundleList.find('.halo-product-itemFirst'),\n            pId = firstItem.data('product-id'),\n            form = firstItem.find('form'),\n            hasOptions = form.find('[data-fbt-option-change]').length,\n            hasDefaultOptions = form.find('[data-default]').length;\n\n        if (hasDefaultOptions && hasOptions) {\n            utils.api.productAttributes.optionChange(pId, form.serialize(), 'products/bulk-discount-rates', (err, response) => {\n                const attributesData = response.data || {};\n                const attributesContent = response.content || {};\n\n                updateProductAttributes(form, attributesData);\n\n                if (hasDefaultOptions) {\n                    updateView(form, attributesData, attributesContent);\n                } else {\n                    updateDefaultAttributesForOOS(attributesData);\n                }\n            });\n        }\n    }\n\n    function showList(list){\n        list.forEach((element) => {\n            var response = element.data;\n\n            if(response != undefined && response != null && response != ''){\n                $bundleList.append(response.item);\n\n                if (response.options.trim() != \"\") {\n                    var pId = $(response.item).data('product-id'),\n                    $form = $bundleList.find('.halo-product-item[data-product-id=\"' + pId + '\"] form');\n\n                    $form.append(response.options);\n\n                    const $productOptionsElement = $('[data-fbt-option-change]', $form);\n                    const hasOptions = $productOptionsElement.html().trim().length;\n                    const hasDefaultOptions = $(response.options).find('[data-default]').length;\n\n                    if (hasDefaultOptions && hasOptions) {\n                        utils.api.productAttributes.optionChange(pId, $form.serialize(), 'products/bulk-discount-rates', (err, response) => {\n                            if(response != undefined){\n                                const attributesData = response.data || {};\n                                const attributesContent = response.content || {};\n\n                                updateProductAttributes($form, attributesData);\n\n                                if (hasDefaultOptions) {\n                                    updateView($form, attributesData, attributesContent);\n                                } else {\n                                    updateDefaultAttributesForOOS(attributesData);\n                                }\n                            }\n                        });\n                    }\n\n                    setProductVariant();\n                }\n            }\n        });\n\n        productOptions();\n        showSlickSlider($bundleList);\n\n        if(!$bundle.hasClass('halo-bundle-login')){\n            totalPrice();\n        }\n\n        $bundle.removeClass('halo-block-disable');\n    }\n\n    function showSlickSlider(wrap){\n        if(wrap.length > 0){\n            wrap.slick({\n                dots: true,\n                arrows: false,\n                slidesToShow: 2,\n                slidesToScroll: 1,\n                mobileFirst: true,\n                infinite: false,\n                responsive: [\n                    {\n                        breakpoint: 1400,\n                        settings: {\n                            slidesToShow: 4,\n                            slidesToScroll: 1,\n                            dots: false,\n                            arrows: true\n                        }\n                    },\n                    {\n                        breakpoint: 1025,\n                        settings: {\n                            slidesToShow: 3,\n                            slidesToScroll: 1,\n                            dots: false,\n                            arrows: true\n                        }\n                    }\n                ]\n            });\n        }\n    }\n\n    function checkProduct(form, arrPro) {\n        var check = true;\n\n        for (var i = 0; i < arrPro.length; i++) {\n            var k = arrPro[i],\n                $form = $(form[k]);\n\n            if ($form.find('[data-fbt-option-change]').length) {\n                check = checkBeforeAdd($form);\n\n                if (check == false){\n                    return false;\n                }\n            }\n        }\n\n        return check;\n    }\n\n    function checkBeforeAdd($attributes) {\n        var check = true,\n            att = \"\";\n\n        $attributes.find('input:text, input:password, input:file, textarea').each((index, element) => {\n            if (!$(element).prop('required')) {} else {\n                if ($(element).val()) {} else {\n                    $(element).focus();\n                    check = false;\n                }\n            }\n        });\n\n        $attributes.find('select').each((index, element) => {\n            if (!$(element).prop('required')) {} else {\n                if ($(element).val()) {} else {\n                    $(element).focus();\n                    check = false;\n                }\n            }\n        });\n\n        $attributes.find('input:radio, input:checkbox').each((index, element) => {\n            if (att != $(element).attr(\"name\")) {\n                att = $(element).attr(\"name\");\n                if (!$(element).prop('required')) {\n                    if ($(element).attr(\"type\") == \"checkbox\") {\n                        if ($(\"[name='\" + att + \"']:checked\").val()) {}\n                    }\n                    if ($(element).attr(\"type\") == \"radio\") {\n                        if ($(\"[name='\" + att + \"']:checked\").val()) {}\n                    }\n                } else {\n                    if ($(element).attr(\"type\") == \"checkbox\") {\n                        if ($(\"[name='\" + att + \"']:checked\").val()) {} else {\n                            check = false;\n                        }\n                    }\n                    if ($(element).attr(\"type\") == \"radio\") {\n                        if ($(\"[name='\" + att + \"']:checked\").val()) {} else {\n                            check = false;\n                        }\n                    }\n                }\n            }\n        });\n\n        return check;\n    }\n\n    function addToCart(form, i, arrP, k) {\n        if (window.FormData === undefined) {\n            return;\n        }\n\n        var prod = arrP[i];\n\n        utils.api.cart.itemAdd(filterEmptyFilesFromForm(new FormData(form[prod])), (err, response) => {\n            const errorMessage = err || response.data.error;\n\n            if (errorMessage) {\n                const tmp = document.createElement('DIV');\n                tmp.innerHTML = errorMessage;\n                alert(tmp.textContent || tmp.innerText);\n                k = k - 1;\n            }\n\n            i++;\n\n            if (i >= arrP.length) {\n                $bundle.find('.loadingOverlay').hide();\n\n                if (context.themeSettings.haloAddToCartAction === 'sidebar'){\n                    const options = {\n                        template: 'common/cart-preview'\n                    };\n\n                    const loadingClass = 'is-loading';\n                    const $body = $('body');\n                    const $cartDropdown = $('#halo-cart-sidebar .halo-sidebar-wrapper');\n                    const $cartLoading = $('<div class=\"loadingOverlay\"></div>');\n\n                    $body.toggleClass('openCartSidebar');\n\n                    $cartDropdown\n                        .addClass(loadingClass)\n                        .html($cartLoading);\n                    $cartLoading\n                        .show();\n\n                    utils.api.cart.getContent(options, (err, response) => {\n                        $cartDropdown\n                            .removeClass(loadingClass)\n                            .html(response);\n                        $cartLoading\n                            .hide();\n\n                        const quantity = $(response).find('[data-cart-quantity]').data('cartQuantity') || 0;\n\n                        $body.trigger('cart-quantity-update', quantity);\n\n                        haloCalculateFreeShipping(context);\n                    });\n                } else {\n                    redirectTo(context.urls.cart);\n                }\n\n                return;\n            }\n\n            addToCart(form, i, arrP, k);\n        });\n    }\n\n    function isRunningInIframe() {\n        try {\n            return window.self !== window.top;\n        } catch (e) {\n            return true;\n        }\n    }\n\n    function redirectTo(url) {\n        if (isRunningInIframe() && !window.iframeSdk) {\n            window.top.location = url;\n        } else {\n            window.location = url;\n        }\n    }\n\n    function totalPrice() {\n        var total = 0,\n            symbol,\n            symbolChange,\n            decimalPlaces,\n            decimalSeparator,\n            thousandsSeparator,\n            symbolLocation,\n            curr,\n            token1,\n            token2,\n            length;\n\n        decimalPlaces = currency.decimal_places;\n        decimalSeparator = currency.decimal_token;\n        thousandsSeparator = currency.thousands_token;\n        symbolLocation = currency.currency_location;\n        symbol = currency.currency_token;\n\n        $bundleList.find('.halo-product-item.isChecked').each((index, val) => {\n            var price = parseFloat($(val).find('[data-price-value]').attr('data-price-value'));\n\n            total = total + price;\n        });\n\n        if ($('.productView-product .productView-price > .price-section > .price.price--withTax', $scope).length) {\n            curr = $('.productView-product .productView-price > .price-section > .price.price--withTax', $scope).data('value-price');\n        } else {\n            curr = $('.productView-product .productView-price > .price-section > .price.price--withoutTax', $scope).data('value-price');\n        }\n\n        symbolChange = curr.replace(/[0-9]/g, \"\").replace(\".\", \"\").replace(\",\", \"\");\n\n        if(symbol != symbolChange){\n            symbol = symbolChange;\n            token1 = (curr.indexOf('.'));\n            token2 = (curr.indexOf(','));\n            length = curr.length - 1;\n\n            if (curr.indexOf(symbol) != -1) {\n                symbolLocation = curr.indexOf(symbol);\n            }\n\n            if (token1 < token2) {\n                thousandsSeparator = '.';\n                decimalSeparator = ',';\n\n                if (symbolLocation == 0 || symbolLocation == \"left\") {\n                    decimalPlaces = length - token2;\n                } else {\n                    decimalPlaces = length - token2 - 1;\n                }\n            } else {\n                thousandsSeparator = ',';\n                decimalSeparator = '.';\n                if (symbolLocation == 0 || symbolLocation == \"left\") {\n                    decimalPlaces = length - token1;\n                } else {\n                    decimalPlaces = length - token1 - 1;\n                }\n            }\n        }\n\n        if(total == 0){\n            $bundle.find('#halo-addAll').attr('disabled', true);\n        } else{\n            $bundle.find('#halo-addAll').attr('disabled', false);\n        }\n\n        total = formatMoney(total, decimalPlaces, decimalSeparator, thousandsSeparator);\n\n        if (symbolLocation == \"left\" || symbolLocation == 0){\n            total = symbol + total;\n        } else{\n            total = total + symbol;\n        }\n\n        $bundle.find('.halo-product-total .price').html(total);\n    }\n\n    function formatMoney(n, c, d, t) {\n        var c = isNaN(c = Math.abs(c)) ? 2 : c,\n            d = d == undefined ? \".\" : d,\n            t = t == undefined ? \",\" : t,\n            s = n < 0 ? \"-\" : \"\",\n            i = String(parseInt(n = Math.abs(Number(n) || 0).toFixed(c))),\n            j = (j = i.length) > 3 ? j % 3 : 0;\n\n        return s + (j ? i.substr(0, j) + t : \"\") + i.substr(j).replace(/(\\d{3})(?=\\d)/g, \"$1\" + t) + (c ? d + Math.abs(n - i).toFixed(c).slice(2) : \"\");\n    };\n\n    function productOptions() {\n        if(!$bundle.hasClass('halo-bundle-login')){\n            totalPrice();\n        }\n\n        const $form = $('form', $bundle),\n            $productOptionsElement = $('[data-fbt-option-change]', $form);\n\n        $(document).on('change', $productOptionsElement, event => {\n            productOptionsChanged(event);\n            setProductVariant(event);\n        });\n    }\n\n    function setProductVariant() {\n        const unsatisfiedRequiredFields = [];\n        const options = [];\n\n        $.each($('[data-fbt-option-change] [data-product-attribute]'), (index, value) => {\n            const optionLabel = value.children[0].innerText;\n            const optionTitle = optionLabel.split(':')[0].trim();\n            const required = optionLabel.toLowerCase().includes('required');\n            const type = value.getAttribute('data-product-attribute');\n\n            if ((type === 'input-file' || type === 'input-text' || type === 'input-number') && value.querySelector('input').value === '' && required) {\n                unsatisfiedRequiredFields.push(value);\n            }\n\n            if (type === 'textarea' && value.querySelector('textarea').value === '' && required) {\n                unsatisfiedRequiredFields.push(value);\n            }\n\n            if (type === 'date') {\n                const isSatisfied = Array.from(value.querySelectorAll('select')).every((select) => select.selectedIndex !== 0);\n\n                if (isSatisfied) {\n                    const dateString = Array.from(value.querySelectorAll('select')).map((x) => x.value).join('-');\n                    options.push(`${optionTitle}:${dateString}`);\n\n                    return;\n                }\n\n                if (required) {\n                    unsatisfiedRequiredFields.push(value);\n                }\n            }\n\n            if (type === 'set-select') {\n                const select = value.querySelector('select');\n                const selectedIndex = select.selectedIndex;\n\n                if (selectedIndex !== 0) {\n                    options.push(`${optionTitle}:${select.options[selectedIndex].innerText}`);\n                    $(value.children[0]).find('[data-option-value]').text(select.options[selectedIndex].innerText);\n                    return;\n                }\n\n                if (required) {\n                    unsatisfiedRequiredFields.push(value);\n                }\n            }\n\n            if (type === 'set-rectangle' || type === 'set-radio' || type === 'swatch' || type === 'input-checkbox' || type === 'product-list') {\n                const checked = value.querySelector(':checked');\n                if (checked) {\n                    if (type === 'set-rectangle' || type === 'set-radio' || type === 'product-list') {\n                        const label = checked.labels[0].innerText;\n                        if (label) {\n                            options.push(`${optionTitle}:${label}`);\n                            $(value.children[0]).find('[data-option-value]').text(label);\n                        }\n                    }\n\n                    if (type === 'swatch') {\n                        const label = checked.labels[0].children[0];\n                        if (label) {\n                            options.push(`${optionTitle}:${label.title}`);\n                            $(value.children[0]).find('[data-option-value]').text(label.title);\n                        }\n                    }\n\n                    if (type === 'input-checkbox') {\n                        options.push(`${optionTitle}:Yes`);\n                    }\n\n                    return;\n                }\n\n                if (type === 'input-checkbox') {\n                    options.push(`${optionTitle}:No`);\n                }\n\n                if (required) {\n                    unsatisfiedRequiredFields.push(value);\n                }\n            }\n        });\n    }\n\n    function productOptionsChanged(event) {\n        const $changedOption = $(event.target);\n        const $form = $changedOption.parents('form');\n        const productId = $('[name=\"product_id\"]', $form).val();\n\n        if ($changedOption.attr('type') === 'file' || window.FormData === undefined) {\n            return;\n        }\n\n        if ($changedOption.attr('id') === 'fbt_product' + productId) {\n            return;\n        }\n        \n        utils.api.productAttributes.optionChange(productId, $form.serialize(), 'products/bulk-discount-rates', (err, response) => {\n            const productAttributesData = response.data || {};\n            const productAttributesContent = response.content || {};\n            showProductImage(productId, productAttributesData);\n            updateProductAttributes($form, productAttributesData);\n            updateView($form, productAttributesData, productAttributesContent);\n\n            if(!$bundle.hasClass('halo-bundle-login')){\n                totalPrice();\n            }\n        });\n\n        return false;\n    }\n    \n    function updateProductAttributes($scope, data) {\n        const behavior = data.out_of_stock_behavior;\n        const inStockIds = data.in_stock_attributes;\n        const outOfStockMessage = ` (${data.out_of_stock_message})`;\n\n        if (behavior !== 'hide_option' && behavior !== 'label_option') {\n            return;\n        }\n\n        $('[data-product-attribute-value]', $scope).each((i, attribute) => {\n            const $attribute = $(attribute);\n            const attrId = parseInt($attribute.data('productAttributeValue'), 10);\n\n            if (inStockIds.indexOf(attrId) !== -1) {\n                enableAttribute($attribute, behavior, outOfStockMessage);\n            } else {\n                disableAttribute($attribute, behavior, outOfStockMessage);\n            }\n        });\n    }\n\n    function disableAttribute($attribute, behavior, outOfStockMessage) {\n        if (getAttributeType($attribute) === 'set-select') {\n            return disableSelectOptionAttribute($attribute, behavior, outOfStockMessage);\n        }\n\n        if (behavior === 'hide_option') {\n            $attribute.hide();\n        } else {\n            $attribute.addClass('unavailable');\n        }\n    }\n\n    function disableSelectOptionAttribute($attribute, behavior, outOfStockMessage) {\n        const $select = $attribute.parent();\n\n        if (behavior === 'hide_option') {\n            $attribute.toggleOption(false);\n\n            if ($select.val() === $attribute.attr('value')) {\n                $select[0].selectedIndex = 0;\n            }\n        } else {\n            $attribute.attr('disabled', 'disabled');\n            $attribute.html($attribute.html().replace(outOfStockMessage, '') + outOfStockMessage);\n        }\n    }\n\n    function enableAttribute($attribute, behavior, outOfStockMessage) {\n        if (getAttributeType($attribute) === 'set-select') {\n            return enableSelectOptionAttribute($attribute, behavior, outOfStockMessage);\n        }\n\n        if (behavior === 'hide_option') {\n            $attribute.show();\n        } else {\n            $attribute.removeClass('unavailable');\n        }\n    }\n\n    function enableSelectOptionAttribute($attribute, behavior, outOfStockMessage) {\n        if (behavior === 'hide_option') {\n            $attribute.toggleOption(true);\n        } else {\n            $attribute.prop('disabled', false);\n            $attribute.html($attribute.html().replace(outOfStockMessage, ''));\n        }\n    }\n\n    function getAttributeType($attribute) {\n        const $parent = $attribute.closest('[data-product-attribute]');\n\n        return $parent ? $parent.data('productAttribute') : null;\n    }\n\n    function showProductImage(productId, data) {\n        if (_.isPlainObject(data.image)) {\n            const mainImageUrl = utils.tools.imageSrcset.getSrcset(\n                data.image.data, { '1x': context.themeSettings.productgallery_size },\n            );\n\n            $('.halo-product-item[data-product-id=\"' + productId + '\"]').find('img').attr({\n                'srcset': mainImageUrl,\n                'data-srcset': $(this).attr('srcset'),\n            });\n        } else {\n            const mainImageUrl = $('.halo-product-item[data-product-id=\"' + productId + '\"]').find('img').attr('data-srcset');\n            $('.halo-product-item[data-product-id=\"' + productId + '\"]').find('img').attr({\n                'srcset': mainImageUrl,\n                'data-srcset': $(this).attr('srcset'),\n            });\n        }\n    }\n\n    function updateView($scope, data, content = null) {\n        const viewModel = getViewModel($scope);\n\n        if (_.isNumber(data.stock)) {\n            if((data.stock <= parseInt(context.themeSettings.halo_stock_level_limit)) && (data.stock > 0)) {\n                viewModel.$stockLeftWrapper.removeClass('u-hiddenVisually');\n                viewModel.$stockLeft.text(data.stock);\n            } else{\n                viewModel.$stockLeftWrapper.addClass('u-hiddenVisually');\n            }\n        }\n\n        showMessageBox(data.stock_message || data.purchasing_message, $scope);\n\n        if (_.isObject(data.price)) {\n            updatePriceView(viewModel, data.price);\n        }\n\n        var productId = $('[name=\"product_id\"]', $scope).val(),\n            product = $bundleList.find('.halo-product-item[data-product-id=\"' + productId + '\"]'),\n            productCheckbox = product.find('.halo-detail-checkbox');\n\n        if (!data.purchasable || !data.instock) {\n            product.removeClass('isChecked hasOptions--selected');\n            productCheckbox.prop('checked', false).prop('disabled', true);\n        } else {\n            product.addClass('isChecked');\n            productCheckbox.prop('checked', true).prop('disabled', false);\n\n            if ($scope.find('[data-fbt-option-change]').length > 0) {\n\n                var check = checkBeforeAdd($scope);\n\n                if (check == true) {\n                    product.addClass('hasOptions--selected');\n                }\n            }\n        }\n    }\n\n    function updateDefaultAttributesForOOS($scope, data) {\n        var productId = $('[name=\"product_id\"]', $scope).val(),\n            product = $bundleList.find('.halo-product-item[data-product-id=\"' + productId + '\"]'),\n            productCheckbox = product.find('.halo-detail-checkbox');\n\n        if (!data.purchasable || !data.instock) {\n            product.removeClass('isChecked hasOptions--selected');\n            productCheckbox.prop('checked', false).prop('disabled', true);\n        } else {\n            product.addClass('isChecked');\n            productCheckbox.prop('checked', true).prop('disabled', false);\n\n            if ($scope.find('[data-fbt-option-change]').length > 0) {\n                var check = checkBeforeAdd($scope);\n\n                if (check == true) {\n                    product.addClass('hasOptions--selected');\n                }\n            }\n        }\n    }\n\n    function getViewModel($scope) {\n        return {\n            $priceWithTax: $('[data-product-price-with-tax]', $scope),\n            $priceWithoutTax: $('[data-product-price-without-tax]', $scope),\n            rrpWithTax: {\n                $div: $('.rrp-price--withTax', $scope),\n                $span: $('[data-product-rrp-with-tax]', $scope),\n            },\n            rrpWithoutTax: {\n                $div: $('.rrp-price--withoutTax', $scope),\n                $span: $('[data-product-rrp-price-without-tax]', $scope),\n            },\n            nonSaleWithTax: {\n                $div: $('.non-sale-price--withTax', $scope),\n                $span: $('[data-product-non-sale-price-with-tax]', $scope),\n            },\n            nonSaleWithoutTax: {\n                $div: $('.non-sale-price--withoutTax', $scope),\n                $span: $('[data-product-non-sale-price-without-tax]', $scope),\n            },\n            priceSaved: {\n                $div: $('.price-section--saving', $scope),\n                $span: $('[data-product-price-saved]', $scope),\n            },\n            priceNowLabel: {\n                $span: $('.price-now-label', $scope),\n            },\n            priceLabel: {\n                $span: $('.price-label', $scope),\n            },\n            priceData: {\n                $div: $('[data-price-value]', $scope),\n            },\n            $weight: $('.productView-info [data-product-weight]', $scope),\n            $increments: $('.form-field--increments :input', $scope),\n            $addToCart: $('#form-action-addToCart', $scope),\n            $wishlistVariation: $('[data-wishlist-add] [name=\"variation_id\"]', $scope),\n            $stockLeft: $('[data-stock-left]', $scope),\n            $stockLeftWrapper: $('.productView-optionsStock', $scope),\n            stock: {\n                $container: $('.form-field--stock', $scope),\n                $input: $('[data-product-stock]', $scope),\n            },\n            $sku: $('[data-product-sku]'),\n            $upc: $('[data-product-upc]'),\n            quantity: {\n                $text: $('.incrementTotal', $scope),\n                $input: $('[name=qty\\\\[\\\\]]', $scope),\n            },\n            $bulkPricing: $('.productView-info-bulkPricing', $scope),\n        };\n    }\n\n    function showMessageBox(message, $scope) {\n        const $messageBox = $('.productAttributes-message', $scope);\n\n        if (message) {\n            $('.alertBox-message', $messageBox).text(message);\n            $messageBox.show();\n        } else {\n            $messageBox.hide();\n        }\n    }\n\n    function clearPricingNotFound(viewModel) {\n        viewModel.rrpWithTax.$div.hide();\n        viewModel.rrpWithoutTax.$div.hide();\n        viewModel.nonSaleWithTax.$div.hide();\n        viewModel.nonSaleWithoutTax.$div.hide();\n        viewModel.priceSaved.$div.hide();\n        viewModel.priceNowLabel.$span.hide();\n        viewModel.priceLabel.$span.hide();\n    }\n    \n    function updatePriceView(viewModel, price) {\n        clearPricingNotFound(viewModel);\n\n        if (price.with_tax) {\n            viewModel.priceLabel.$span.show();\n            viewModel.$priceWithTax.html(price.with_tax.formatted);\n            viewModel.priceData.$div.attr('data-price-value', price.with_tax.value);\n        }\n\n        if (price.without_tax) {\n            viewModel.priceLabel.$span.show();\n            viewModel.$priceWithoutTax.html(price.without_tax.formatted);\n            viewModel.priceData.$div.attr('data-price-value', price.without_tax.value);\n        }\n\n        if (price.rrp_with_tax) {\n            viewModel.rrpWithTax.$div.show();\n            viewModel.rrpWithTax.$span.html(price.rrp_with_tax.formatted);\n        }\n\n        if (price.rrp_without_tax) {\n            viewModel.rrpWithoutTax.$div.show();\n            viewModel.rrpWithoutTax.$span.html(price.rrp_without_tax.formatted);\n        }\n\n        if (price.saved) {\n            viewModel.priceSaved.$div.show();\n            viewModel.priceSaved.$span.html(price.saved.formatted);\n        }\n\n        if (price.non_sale_price_with_tax) {\n            viewModel.priceLabel.$span.hide();\n            viewModel.nonSaleWithTax.$div.show();\n            viewModel.priceNowLabel.$span.show();\n            viewModel.nonSaleWithTax.$span.html(price.non_sale_price_with_tax.formatted);\n        }\n\n        if (price.non_sale_price_without_tax) {\n            viewModel.priceLabel.$span.hide();\n            viewModel.nonSaleWithoutTax.$div.show();\n            viewModel.priceNowLabel.$span.show();\n            viewModel.nonSaleWithoutTax.$span.html(price.non_sale_price_without_tax.formatted);\n        }\n    }\n\n    function filterEmptyFilesFromForm(formData) {\n        try {\n            for (const [key, val] of formData) {\n                if (val instanceof File && !val.name && !val.size) {\n                    formData.delete(key);\n                }\n            }\n        } catch (e) {\n            console.error(e);\n        }\n\n        return formData;\n    }\n}\n","/*\n Import all product specific js\n */\nimport utils from '@bigcommerce/stencil-utils';\nimport Sortable from 'sortablejs';\nimport PageManager from './page-manager';\nimport Review from './product/reviews';\nimport collapsibleFactory from './common/collapsible';\nimport ProductDetails from './common/product-details';\nimport videoGallery from './product/video-gallery';\nimport { classifyForm } from './common/utils/form-utils';\nimport modalFactory from './global/modal';\nimport haloYoutubeCarousel from './halothemes/haloYoutubeVideo';\nimport haloNextProducts from './halothemes/haloNextProducts';\nimport haloNotifyMe from './halothemes/haloNotifyMe';\nimport haloStickyAddToCart from './halothemes/haloStickyAddToCart';\nimport haloBundleProducts from './halothemes/haloBundleProducts';\n\nexport default class Product extends PageManager {\n    constructor(context) {\n        super(context);\n        this.url = window.location.href;\n        this.$reviewLink = $('[data-reveal-id=\"modal-review-form\"]');\n        this.$bulkPricingLink = $('[data-reveal-id=\"modal-bulk-pricing\"]');\n        this.reviewModal = modalFactory('#modal-review-form')[0];\n    }\n\n    onReady() {\n        // Listen for foundation modal close events to sanitize URL after review.\n        $(document).on('close.fndtn.reveal', () => {\n            if (this.url.indexOf('#write_review') !== -1 && typeof window.history.replaceState === 'function') {\n                window.history.replaceState(null, document.title, window.location.pathname);\n            }\n        });\n\n        let validator;\n\n        // Init collapsible\n        collapsibleFactory();\n        haloNextProducts(this.context);\n        haloNotifyMe($('.halo-productView'), this.context);\n        haloYoutubeCarousel($('.halo-productView .productView-image-wrapper'));\n        haloBundleProducts($('.halo-productView'), this.context);\n\n        this.productDetails = new ProductDetails($('.productView'), this.context, window.BCData.product_attributes);\n        this.productDetails.setProductVariant();\n\n        videoGallery();\n\n        this.bulkPricingHandler();\n        this.viewingProduct($('.productView-ViewingProduct'));\n        this.soldProduct($('.productView-soldProduct'));\n        this.countDownProduct($('.productView-countDown'));\n        this.productViewShareLink();\n        this.compareColors();\n        this.toggleTabs();\n        this.productCustomTab();\n        this.productShippingTab();\n        this.showmoreDescription();\n        this.checkProduct();\n\n        haloStickyAddToCart($('.halo-productView'), this.context);\n\n        const $reviewForm = classifyForm('.writeReview-form');\n\n        if ($reviewForm.length === 0) return;\n\n        const review = new Review($reviewForm);\n\n        $('body').on('click', '[data-reveal-id=\"modal-review-form\"]', () => {\n            validator = review.registerValidation(this.context);\n            this.ariaDescribeReviewInputs($reviewForm);\n        });\n\n        $reviewForm.on('submit', () => {\n            if (validator) {\n                validator.performCheck();\n                return validator.areAll('valid');\n            }\n\n            return false;\n        });\n\n        this.productReviewHandler();\n    }\n\n    ariaDescribeReviewInputs($form) {\n        $form.find('[data-input]').each((_, input) => {\n            const $input = $(input);\n            const msgSpanId = `${$input.attr('name')}-msg`;\n\n            $input.siblings('span').attr('id', msgSpanId);\n            $input.attr('aria-describedby', msgSpanId);\n        });\n    }\n\n    productReviewHandler() {\n        if (this.url.indexOf('#write_review') !== -1) {\n            this.$reviewLink.trigger('click');\n        }\n    }\n\n    bulkPricingHandler() {\n        if (this.url.indexOf('#bulk_pricing') !== -1) {\n            this.$bulkPricingLink.trigger('click');\n        }\n    }\n\n    soldProduct($wrapper) {\n        if($wrapper.length > 0) {\n            var numbersProduct_text = this.context.themeSettings.product_soldProduct_products,\n                numbersHours_text = this.context.themeSettings.product_soldProduct_hours,\n                soldProductText = this.context.themeSettings.product_soldProduct_text,\n                soldProductText2 = this.context.themeSettings.product_soldProduct_hours_text;\n\n            var numbersProductList =  JSON.parse(\"[\" + numbersProduct_text + \"]\"), \n                numbersProductItem = (Math.floor(Math.random()*numbersProductList.length)),\n                numbersHoursList =  JSON.parse(\"[\" + numbersHours_text + \"]\"),\n                numbersHoursItem = (Math.floor(Math.random()*numbersHoursList.length));\n         \n            $wrapper.html('<svg class=\"icon\"><use xlink:href=\"#icon-fire\"/></svg><span class=\"text\">' + numbersProductList[numbersProductItem] + \" \" + soldProductText + \" \" + numbersHoursList[numbersHoursItem] + \" \" + soldProductText2 + '</span>');\n            $wrapper.show();\n        }\n    }\n\n    countDownProduct($wrapper) {\n        if($wrapper.length > 0) {\n            var countDown = $wrapper.data('countdown'),\n                countDownDate = new Date(countDown).getTime(),\n                seft = $wrapper;\n\n            var countdownfunction = setInterval(function() {\n                var now = new Date().getTime(),\n                    distance = countDownDate - now;\n\n                if (distance < 0) {\n                    clearInterval(countdownfunction);\n                    seft.remove();\n                } else {\n                    var days = Math.floor(distance / (1000 * 60 * 60 * 24)),\n                        hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60)),\n                        minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60)),\n                        seconds = Math.floor((distance % (1000 * 60)) / 1000),\n                        strCountDown = '<svg class=\"icon\"><use xlink:href=\"#icon-bell\"/></svg><span class=\"text\"><span>Limited-time offers:</span></span> <span class=\"num\">'+days+'d :</span> <span class=\"num\">'+hours+'h :</span> <span class=\"num\">'+minutes+'m :</span> <span class=\"num\">'+seconds+'s</span>';\n\n                    seft.html(strCountDown);\n                }\n            }, 1000);\n        }\n    }\n\n    productViewShareLink() {\n        const $shareLinkBtn = $('.shareLinkSocial__button');\n        const $shareLinkPopup = $('.shareLinkSocial__popup');\n        const $shareLinkClose = $('.shareLinkSocial__close');\n        const $shareLinkCopy = $('#shareLinkSocial__copy');\n\n        $shareLinkBtn.on('click', (e) => {\n            e.preventDefault();\n\n            if ($shareLinkPopup.hasClass('is-open')) {\n                $shareLinkPopup.slideUp(400);\n                $shareLinkPopup.removeClass('is-open');\n            }\n            else {\n                $shareLinkPopup.slideDown(400);\n                $shareLinkPopup.addClass('is-open');            \n            }\n        });\n\n        $shareLinkClose.on('click', (e) => {\n            e.preventDefault();\n\n            if ($shareLinkPopup.hasClass('is-open')) {\n                $shareLinkPopup.slideUp(400);\n                $shareLinkPopup.removeClass('is-open');\n            }\n        });\n\n        $shareLinkCopy.on('click', (e) => {\n            e.preventDefault();\n            const $target = $(e.target);\n\n            $target.select();\n            document.execCommand(\"copy\");\n        });\n    }\n\n    viewingProduct($wrapper) {\n        if($wrapper.length > 0) {\n            var viewerText = this.context.themeSettings.product_viewingProduct_text,\n                numbersViewer_text = this.context.themeSettings.product_viewingProduct_viewer,\n                numbersViewerList =  JSON.parse(\"[\" + numbersViewer_text + \"]\"),\n                timeViewer =  parseInt(this.context.themeSettings.product_viewingProduct_change)*1000;\n            \n            setInterval(function() {\n                var numbersViewerItem = (Math.floor(Math.random()*numbersViewerList.length));\n\n                $wrapper.html('<svg class=\"icon\"><use xlink:href=\"#icon-eye\"/></svg>' + numbersViewerList[numbersViewerItem] + \" \" + viewerText);\n            }, timeViewer);  \n        }\n    }\n\n    compareColors(){\n        const $swatchWrapper = $('.halo-compareColors-swatch'),\n            $imageWrapper = $('.halo-compareColors-image'),\n            $textWrapper = $('.halo-compareColors-text');\n\n        $('.form-option', $swatchWrapper).on('click',  event => {\n            var $this = $(event.currentTarget);\n\n            $this.toggleClass('show-color');\n\n            var title = $this.find('.form-option-variant').attr('title'),\n                id = $this.data('product-swatch-value'),\n                $color, $color2, $color3, $img, $pattern;\n\n            if ($this.hasClass('show-color')){\n                if($this.find('.form-option-variant--color').length){\n                    $color = $this.find('.form-option-variant--color').attr('style');\n\n                    $imageWrapper.append('<div class=\"item item-color item-'+id+'\"><span class=\"color\" style=\"'+$color+';\"></span><span class=\"title\">'+title+'</span></div>');\n                } else if($this.find('.form-option-variant--color2').length){\n                    $color = $this.find('.form-option-variant--color2 span:nth-child(1)').attr('style');\n                    $color2 = $this.find('.form-option-variant--color2 span:nth-child(2)').attr('style');\n\n                    $('.halo-compareColors-image').append('<div class=\"item item-color item-'+id+'\"><span class=\"color color2\"><span style=\"'+$color+';\"></span><span style=\"'+$color2+';\"></span></span><span class=\"title\">'+title+'</span></div>');\n                } else if($this.find('.form-option-variant--color3').length){\n                    $color =  $this.find('.form-option-variant--color3 span:nth-child(1)').attr('style');\n                    $color2 =  $this.find('.form-option-variant--color3 span:nth-child(2)').attr('style');\n                    $color3 =  $this.find('.form-option-variant--color3 span:nth-child(3)').attr('style');\n\n                    $imageWrapper.append('<div class=\"item item-color item-'+id+'\"><span class=\"color color3\"><span style=\"'+$color+';\"></span><span style=\"'+$color2+';\"></span><span style=\"'+$color3+';\"></span></span><span class=\"title\">'+title+'</span></div>');\n                } else if($this.find('.form-option-variant--pattern').length){\n                    $img = $this.find('.form-option-variant--pattern').attr('style');\n                    $pattern = $this.find('.form-option-variant--pattern').attr('data-pattern');\n\n                    $imageWrapper.append('<div class=\"item item-partern item-'+id+'\"><span class=\"image\"><img src='+$pattern+' alt='+title+' title='+title+'></span><span class=\"title\">'+title+'</span></div>');\n                }\n            } else{\n                $('.item-'+id+'', $imageWrapper).remove();\n            }\n\n            if($imageWrapper.children().length > 0){\n                $textWrapper.hide();\n            } else{\n                $textWrapper.show();\n            }\n\n            if ($(window).width() >= 1025) {\n                var el = document.getElementById('color-swatch-image');\n                \n                new Sortable(el, {\n                    animation: 150\n                });\n            }\n        });\n    }\n\n    toggleTabs(){\n        $('.productView-tab [data-collapsible]').on('click', event => {\n            var $target = $(event.currentTarget);\n\n            if($target.hasClass('is-open')){\n                $target.parent('.toggle-title').siblings('.toggle-content').slideDown(\"slow\");\n            } else{\n                $target.parent('.toggle-title').siblings('.toggle-content').slideUp(\"slow\");\n            }\n        });\n    }\n\n    productCustomTab(){\n        if(this.context.themeSettings.show_product_details_tabs == true){\n            if(this.context.themeSettings.show_custom_tab == true){\n                if(this.context.themeSettings.show_custom_tab_type == \"all\"){\n                    const url = this.context.themeSettings.show_custom_tab_link;\n\n                    const option = {\n                        template: 'halothemes/page/halo-page-template'\n                    };\n\n                    utils.api.getPage(url, option, (err, response) => {\n                        $(response).appendTo('#tab-custom-mobile');\n\n                        if ($('.productView-tab #tab-custom-mobile').text().trim() == '') {\n                            $('.productView-tab #tab-custom').hide();\n                        }\n                    });\n\n                    $('#tab-description').find('[data-custom-tab]').remove();\n\n                } else if(this.context.themeSettings.show_custom_tab_type == \"custom\"){\n                    $('#tab-description').find('[data-custom-tab]').appendTo('#tab-custom-mobile');\n                }\n            }\n        } else {\n            $('.productView-description').find('[data-custom-tab]').remove();\n        }\n    }\n\n    productShippingTab(){\n        if(this.context.themeSettings.show_product_details_tabs == true){\n            if(this.context.themeSettings.show_shipping_tab == true){\n                if(this.context.themeSettings.show_shipping_tab_type == \"all\"){\n                    const url = this.context.themeSettings.show_shipping_tab_link;\n\n                    const option = {\n                        template: 'halothemes/page/halo-page-template'\n                    };\n\n                    utils.api.getPage(url, option, (err, response) => {\n                        $(response).appendTo('#tab-shipping-mobile');\n\n                        if ($('.productView-tab #tab-shipping-mobile').text().trim() == '') {\n                            $('.productView-tab #tab-shipping').hide();\n                        }\n                    });\n\n                    $('#tab-description').find('[data-shipping-tab]').remove();\n\n                } else if(this.context.themeSettings.show_shipping_tab_type == \"custom\"){\n                    $('#tab-description').find('[data-shipping-tab]').appendTo('#tab-shipping-mobile');\n                }\n            }\n        } else {\n            $('.productView-description').find('[data-shipping-tab]').remove();\n        }\n    }\n\n    showmoreDescription(){\n        const showMorebtn = $('#tab-descriptionShowmore'),\n            descMobile = $('#tab-description-mobile'),\n            textShowMore = showMorebtn.find('.button').data('show-more-text'),\n            textShowLess = showMorebtn.find('.button').data('show-less-text');\n\n        showMorebtn.find('.button').on('click', event => {\n            event.preventDefault();\n\n            if(showMorebtn.hasClass(\"less\")) {\n                showMorebtn.removeClass(\"less\").addClass('show');\n                showMorebtn.find('.button').text(textShowMore);\n                descMobile.css('max-height','300px');\n            } else {\n                showMorebtn.removeClass('show').addClass(\"less\");\n                descMobile.css('max-height','unset');\n                showMorebtn.find('.button').text(textShowLess);\n            }\n        });\n    }\n\n    checkProduct(){\n        const relatedProducts = $('#halo-related-products'),\n            similarProducts = $('#halo-similar-products');\n\n        if(!relatedProducts.find('.slick-track').html().length) {\n            relatedProducts.hide()\n        }\n\n        if(!similarProducts.find('.slick-track').html().length) {\n            similarProducts.hide()\n        }\n    }\n}\n","import utils from '@bigcommerce/stencil-utils';\n\nexport default function(context) {\n    if ($('.productView-nextProducts').length > 0) {\n        const token = context.token;\n        const curCode = $('.body').data('currency-code');\n        var productId = $('.productView-nextProducts').data('product-id'),\n            nextId = productId + 1,\n            prevId = productId - 1,\n            nextLink, prevLink, list;\n\n        const $prodWrap = $('.productView-nextProducts .next-prev-modal'),\n            $prodIcons = $('.productView-nextProducts .next-prev-icons');\n\n        function getProduct(arr) {\n          return fetch('/graphql', {\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/json',\n              'Authorization': 'Bearer ' + token\n            },\n            body: JSON.stringify({\n              query: `\n                query MyQuery {\n                    site {\n                        products (entityIds: [`+arr+`]) {\n                          edges {\n                            product: node {\n                              ...ProductFields\n                              }\n                            }\n                        }\n                        currency (currencyCode: `+curCode+`) {\n                            display {\n                                symbol\n                                symbolPlacement\n                                decimalToken\n                                thousandsToken\n                                decimalPlaces\n                            }\n                        }\n                    }\n                }\n                fragment ProductFields on Product {\n                    id\n                    entityId\n                    name\n                    path\n                    defaultImage {\n                        img70px: url(width: 70)\n                        altText\n                    }\n                    prices {\n                        priceRange {\n                            min {\n                                ...MoneyFields\n                            }\n                            max {\n                                ...MoneyFields\n                            }\n                        }\n                        retailPrice {\n                            ...MoneyFields\n                        }\n                        basePrice {\n                            ...MoneyFields\n                        }\n                        price {\n                            ...MoneyFields\n                        }\n                    }\n                }\n                fragment MoneyFields on Money {\n                    value\n                    currencyCode\n                }\n            `}),\n        }).then(res => res.json())\n           .then(res => res.data);\n        }\n\n        if(prevId != undefined && nextId != undefined) {\n            list = [prevId, nextId];\n\n            getProduct(list).then(data => {\n                renderProduct(data.site.products.edges, data.site.currency.display);\n            });\n        }\n\n        function formatMoney(n, c, d, t) {\n            var c = isNaN(c = Math.abs(c)) ? 2 : c,\n                d = d == undefined ? \".\" : d,\n                t = t == undefined ? \",\" : t,\n                s = n < 0 ? \"-\" : \"\",\n                i = String(parseInt(n = Math.abs(Number(n) || 0).toFixed(c))),\n                j = (j = i.length) > 3 ? j % 3 : 0;\n\n            return s + (j ? i.substr(0, j) + t : \"\") + i.substr(j).replace(/(\\d{3})(?=\\d)/g, \"$1\" + t) + (c ? d + Math.abs(n - i).toFixed(c).slice(2) : \"\");\n        }\n\n        function renderProduct(product, curDisplay) {\n            if (product != undefined) {\n                $.each(product, (index, element) => {\n                    const item = element.product,\n                        symbol = curDisplay.symbol,\n                        symbolPlacement = curDisplay.symbolPlacement.toLowerCase(),\n                        decimalToken = curDisplay.decimalToken,\n                        decimalPlaces = curDisplay.decimalPlaces,\n                        thousandsToken = curDisplay.thousandsToken;\n                    let title, price;\n\n                    if (context.themeSettings.halo_card_title == 'ellipsis') {\n                        title = '<a href=\"'+item.path+'\" class=\"card-ellipsis\" style=\"-webkit-box-orient: vertical;\">'+item.name+'</a>';    \n                    }\n                    else {\n                        title = '<a href=\"'+item.path+'\">'+item.name+'</a>';\n                    }\n\n                    if ($('.body').hasClass('is-login') || context.themeSettings.restrict_to_login !== true) {\n                        if (item.prices.priceRange.min.value < item.prices.priceRange.max.value && context.themeSettings.price_ranges) {\n                            const priceMin = (symbolPlacement == \"left\" ? symbol : \"\") + (formatMoney(item.prices.priceRange.min.value, decimalPlaces, decimalToken, thousandsToken)) + (symbolPlacement != \"left\" ? symbol : \"\");\n                            const priceMax = (symbolPlacement == \"left\" ? symbol : \"\") + (formatMoney(item.prices.priceRange.max.value, decimalPlaces, decimalToken, thousandsToken)) + (symbolPlacement != \"left\" ? symbol : \"\");\n\n                            price = '<div class=\"price-section price-section--withoutTax non-sale-price--withoutTax price-none\" style=\"display: none;\">\\\n                                        <span data-product-non-sale-price-without-tax=\"\" class=\"price price--non-sale\"></span>\\\n                                    </div>\\\n                                    <div class=\"price-section price-section--withoutTax\">\\\n                                        <span data-product-price-without-tax=\"\" class=\"price price--withoutTax\">'+priceMin+' - '+priceMax+'</span>\\\n                                    </div>';\n                        }\n                        else {\n                            const priceDef = (symbolPlacement == \"left\" ? symbol : \"\") + (formatMoney(item.prices.price.value, decimalPlaces, decimalToken, thousandsToken)) + (symbolPlacement != \"left\" ? symbol : \"\");\n\n                            if (item.prices.retailPrice == null) {\n                                if (item.prices.basePrice.value > item.prices.price.value) {\n                                    const priceBas = (symbolPlacement == \"left\" ? symbol : \"\") + (formatMoney(item.prices.basePrice.value, decimalPlaces, decimalToken, thousandsToken)) + (symbolPlacement != \"left\" ? symbol : \"\");\n\n                                    price = '<div class=\"price-section price-section--withoutTax non-sale-price--withoutTax\">\\\n                                                <span data-product-non-sale-price-without-tax=\"\" class=\"price price--non-sale\">'+priceBas+'</span>\\\n                                            </div>\\\n                                            <div class=\"price-section price-section--withoutTax\">\\\n                                                <span data-product-price-without-tax=\"\" class=\"price price--withoutTax\">'+priceDef+'</span>\\\n                                            </div>';\n                                }\n                                else {\n                                    price = '<div class=\"price-section price-section--withoutTax non-sale-price--withoutTax price-none\" style=\"display: none;\">\\\n                                                <span data-product-non-sale-price-without-tax=\"\" class=\"price price--non-sale\"></span>\\\n                                            </div>\\\n                                            <div class=\"price-section price-section--withoutTax\">\\\n                                                <span data-product-price-without-tax=\"\" class=\"price price--withoutTax\">'+priceDef+'</span>\\\n                                            </div>';\n                                }\n                            }\n                            else {\n                                if (item.prices.retailPrice.value > item.prices.price.value) {\n                                    const priceRet = (symbolPlacement == \"left\" ? symbol : \"\") + (formatMoney(item.prices.retailPrice.value, decimalPlaces, decimalToken, thousandsToken)) + (symbolPlacement != \"left\" ? symbol : \"\");\n                                \n                                    price = '<div class=\"price-section price-section--withoutTax non-sale-price--withoutTax\">\\\n                                                <span data-product-non-sale-price-without-tax=\"\" class=\"price price--non-sale\">'+priceRet+'</span>\\\n                                            </div>\\\n                                            <div class=\"price-section price-section--withoutTax\">\\\n                                                <span data-product-price-without-tax=\"\" class=\"price price--withoutTax\">'+priceDef+'</span>\\\n                                            </div>';\n                                }\n                                else {\n                                    price = '<div class=\"price-section price-section--withoutTax non-sale-price--withoutTax price-none\" style=\"display: none;\">\\\n                                                <span data-product-non-sale-price-without-tax=\"\" class=\"price price--non-sale\"></span>\\\n                                            </div>\\\n                                            <div class=\"price-section price-section--withoutTax\">\\\n                                                <span data-product-price-without-tax=\"\" class=\"price price--withoutTax\">'+priceDef+'</span>\\\n                                            </div>';\n                                }\n                            }\n                        }\n                    }\n                    else {\n                        price = '<p translate>Log in for pricing</p>';\n                    }\n\n                    const html_card = '<div class=\"card\" data-product-id=\"'+item.entityId+'\">\\\n                                        <div class=\"card-image\">\\\n                                            <a class=\"card-link\" href=\"'+item.path+'\">\\\n                                                <img src=\"'+item.defaultImage.img70px+'\" alt=\"'+item.name+'\" title=\"'+item.name+'\" />\\\n                                            </a>\\\n                                        </div>\\\n                                        <div class=\"card-content\">\\\n                                            <h4 class=\"card-title\">'+title+'</h4>\\\n                                            <div class=\"card-price\" data-test-info-type=\"price\">'+price+'</div>\\\n                                        </div>\\\n                                    </div>';\n\n                    if (item.entityId == prevId) {\n                        if (item.path !== undefined) {\n                            $prodIcons.find('.prev-icon').attr('href', item.path);\n                            $prodIcons.find('.prev-icon').removeClass('disable');\n                            $prodWrap.find('#prev-product-modal').append(html_card);\n                        } else {\n                            $prodIcons.find('.prev-icon').remove();\n                            $prodWrap.find('#prev-product-modal').remove();\n                        }\n                    }\n                    if (item.entityId == nextId) {\n                        if(item.path !== undefined){\n                            $prodIcons.find('.next-icon').attr('href', item.path);\n                            $prodIcons.find('.next-icon').removeClass('disable');\n                            $prodWrap.find('#next-product-modal').append(html_card);\n                        } else{\n                            $prodIcons.find('.next-icon').remove();\n                            $prodWrap.find('#next-product-modal').remove();\n                        }\n                    }\n                });\n            }\n        }\n\n        $prodIcons.on('mouseover', event => {\n            $prodWrap.addClass('is-active');\n        })\n        .on('mouseleave', event => {\n            $prodWrap.removeClass('is-active');\n        });\n\n        $('.next-icon', $prodIcons).on('mouseover', function(){\n            if (!$(this).hasClass('disable')) {\n                $('#prev-product-modal').removeClass('is-show');\n                $('#next-product-modal').addClass('is-show');\n            }\n            else {\n                $('#prev-product-modal').removeClass('is-show');\n            }\n        });\n\n        $('.prev-icon', $prodIcons).on('mouseover', function(){\n            if (!$(this).hasClass('disable')) {\n                $('#next-product-modal').removeClass('is-show');\n                $('#prev-product-modal').addClass('is-show');  \n            }\n            else {\n                $('#next-product-modal').removeClass('is-show');\n            }\n        });\n\n        $prodWrap.on('mouseover', event => {\n            $prodWrap.addClass('is-active');\n        })\n        .on('mouseleave', event => {\n            $prodWrap.removeClass('is-active');\n        });\n    }\n}\n","import utils from '@bigcommerce/stencil-utils';\nimport swal from 'sweetalert2';\nimport _ from 'lodash';\n\nexport default function($scope, context){\n    if ($('#form-action-addToCart').length) {\n        var scroll = $('#form-action-addToCart').offset(),\n            h_statc = $('#halo_sticky_addToCart').outerHeight(),\n            scrollTop = scroll.top;\n\n        if ($('.productView-details .productView-options [data-product-attribute=\"swatch\"]').length) {               \n            var color = $('.productView-details .productView-options [data-product-attribute=\"swatch\"] .form-option > span').attr('title');\n            $('#halo_sticky_addToCart .option-value').append('<span class=\"color-name\"> -' + ' ' + color + '</div>');\n        }\n\n        $(window).scroll(function(){\n            const $sticky = $('#halo_sticky_addToCart');\n\n            if($(window).scrollTop() > scrollTop + 400){\n\n                if(!$('#halo_sticky_addToCart').hasClass('show_sticky')){\n                    $('#halo_sticky_addToCart').addClass('show_sticky');\n\n                    if ($(window).width() > 550) {\n                        $('#recently_bought_list').css(\"bottom\", $('#halo_sticky_addToCart').outerHeight() + 20);\n                    } else {\n                        if($('#halo_sticky_addToCart').length){\n                            $('#recently_bought_list').css(\"bottom\", $('#halo_sticky_addToCart').outerHeight() + 30);\n                        } else {\n                            $('#recently_bought_list').css(\"bottom\", 80);\n                        }\n                    }\n                }\n            } else{\n\n                $('#halo_sticky_addToCart').removeClass('show_sticky');\n                $('.pop-up-option').removeClass('is-open');\n                $('body').removeClass('openPopupOption');\n\n                $('.choose_options_add').removeClass('is-active');\n\n                if ($(window).width() > 550) {\n                    $('#recently_bought_list').css(\"bottom\", 20);\n                } else {\n                    if($('#halo_sticky_addToCart').length){\n                        $('#recently_bought_list').css(\"bottom\", 20);\n                    } else {\n                        $('#recently_bought_list').css(\"bottom\", 80);\n                    }\n                }\n            }\n        });\n\n        $(document).on('click','.choose_options_add', function(event){\n            $(this).toggleClass('is-active');\n            $('.pop-up-option').toggleClass('is-open');\n            $('body').addClass('openPopupOption');\n        });\n\n        $(document).on('click','.pop-up-option .modal-close', function(event){\n            $(\".pop-up-option\").removeClass('is-open');\n            $('body').removeClass('openPopupOption');\n            $('.choose_options_add').removeClass('is-active');\n        });\n\n        window.onload = function(){\n            if($(window).scrollTop() > scrollTop + 400){\n                if(!$('#halo_sticky_addToCart').hasClass('show_sticky')){\n                    $('#halo_sticky_addToCart').addClass('show_sticky');\n\n                    if ($(window).width() > 550) {\n                        $('#recently_bought_list').css(\"bottom\", $('#halo_sticky_addToCart').outerHeight() + 40);\n                    } else {\n                        if($('#halo_sticky_addToCart').length){\n                            $('#recently_bought_list').css(\"bottom\", $('#halo_sticky_addToCart').outerHeight() + 30);\n                        } else {\n                            $('#recently_bought_list').css(\"bottom\", 80);\n                        }\n                    }\n                }\n            }\n        }\n    }\n}\n"],"names":["safeString","str","DOMParser","parseFromString","body","textContent","_default","$reviewForm","this","validator","nod","submit","find","tap","announceInputErrorMessage","$reviewsContent","$","$reviewsContent2","$collapsible","initLinkBind","injectPaginationLink","collapseReviews","_proto","prototype","_this","$content","document","on","event","preventDefault","trigger","CollapsibleEvents","click","window","width","animate","scrollTop","offset","top","height","hasClass","location","hash","indexOf","$nextLink","$prevLink","length","attr","registerValidation","context","add","selector","validate","errorMessage","reviewRating","reviewSubject","reviewComment","cb","val","forms","email","reviewEmail","performCheck","VideoGallery","$element","$player","$videos","currentVideo","bindEvents","selectNewVideo","e","$target","currentTarget","id","data","$selectedThumb","setMainVideo","setActiveThumb","removeClass","addClass","bind","$scope","thisProuctId","parseInt","productId","$relateTab","$bundle","$bundleList","currency","modalFactory","money","showList","list","wrap","forEach","element","response","undefined","append","item","options","trim","pId","$form","hasOptions","html","hasDefaultOptions","utils","productAttributes","optionChange","serialize","err","attributesData","attributesContent","content","updateProductAttributes","updateView","updateDefaultAttributesForOOS","setProductVariant","totalPrice","$productOptionsElement","$changedOption","target","parents","FormData","productAttributesData","productAttributesContent","_isPlainObject","image","mainImageUrl","imageSrcset","getSrcset","themeSettings","productgallery_size","showProductImage","productOptionsChanged","productOptions","slick","dots","arrows","slidesToShow","slidesToScroll","mobileFirst","infinite","responsive","breakpoint","settings","checkBeforeAdd","$attributes","check","att","each","index","prop","focus","addToCart","form","i","arrP","k","prod","cart","itemAdd","formData","_step","_iterator","_createForOfIteratorHelperLoose","done","_step$value","value","key","File","name","size","console","error","filterEmptyFilesFromForm","url","tmp","createElement","innerHTML","alert","innerText","hide","haloAddToCartAction","loadingClass","$body","$cartDropdown","$cartLoading","toggleClass","show","getContent","template","quantity","haloCalculateFreeShipping","urls","self","isRunningInIframe","iframeSdk","symbol","symbolChange","decimalPlaces","decimalSeparator","thousandsSeparator","symbolLocation","curr","token1","token2","total","decimal_places","decimal_token","thousands_token","currency_location","currency_token","price","parseFloat","replace","n","c","d","t","isNaN","Math","abs","s","String","Number","toFixed","j","substr","slice","formatMoney","unsatisfiedRequiredFields","optionLabel","children","optionTitle","split","required","toLowerCase","includes","type","getAttribute","querySelector","push","isSatisfied","Array","from","querySelectorAll","every","select","selectedIndex","dateString","map","x","join","text","checked","label","labels","title","behavior","out_of_stock_behavior","inStockIds","in_stock_attributes","outOfStockMessage","out_of_stock_message","attribute","$attribute","attrId","getAttributeType","toggleOption","enableSelectOptionAttribute","enableAttribute","$select","parent","disableSelectOptionAttribute","disableAttribute","$parent","closest","viewModel","$priceWithTax","$priceWithoutTax","rrpWithTax","$div","$span","rrpWithoutTax","nonSaleWithTax","nonSaleWithoutTax","priceSaved","priceNowLabel","priceLabel","priceData","$weight","$increments","$addToCart","$wishlistVariation","$stockLeft","$stockLeftWrapper","stock","$container","$input","$sku","$upc","$text","$bulkPricing","getViewModel","_isNumber","halo_stock_level_limit","message","$messageBox","showMessageBox","stock_message","purchasing_message","_isObject","clearPricingNotFound","with_tax","formatted","without_tax","rrp_with_tax","rrp_without_tax","saved","non_sale_price_with_tax","non_sale_price_without_tax","updatePriceView","product","productCheckbox","purchasable","instock","totalBlock","firstItem","prodBundleId","productCustomFields","obj","JSON","parse","grep","num","getById","unique","showBundle","not","next","is","arrPro","checkProduct","showAlertModal","Product","_PageManager","call","href","$reviewLink","$bulkPricingLink","reviewModal","onReady","pluginKey","_this2","history","replaceState","pathname","collapsibleFactory","token","curCode","nextId","prevId","$prodWrap","$prodIcons","arr","fetch","method","headers","stringify","query","then","res","json","curDisplay","site","products","edges","display","symbolPlacement","decimalToken","thousandsToken","halo_card_title","path","restrict_to_login","prices","priceRange","min","max","price_ranges","priceDef","retailPrice","basePrice","html_card","entityId","defaultImage","img70px","remove","haloNextProducts","haloNotifyMe","haloYoutubeCarousel","haloBundleProducts","productDetails","ProductDetails","BCData","product_attributes","$el","bulkPricingHandler","viewingProduct","soldProduct","countDownProduct","productViewShareLink","compareColors","toggleTabs","productCustomTab","productShippingTab","showmoreDescription","scroll","outerHeight","color","css","onload","haloStickyAddToCart","classifyForm","review","Review","ariaDescribeReviewInputs","areAll","productReviewHandler","_","input","msgSpanId","siblings","$wrapper","numbersProduct_text","product_soldProduct_products","numbersHours_text","product_soldProduct_hours","soldProductText","product_soldProduct_text","soldProductText2","product_soldProduct_hours_text","numbersProductList","numbersProductItem","floor","random","numbersHoursList","numbersHoursItem","countDown","countDownDate","Date","getTime","seft","countdownfunction","setInterval","now","distance","clearInterval","strCountDown","$shareLinkBtn","$shareLinkPopup","$shareLinkClose","$shareLinkCopy","slideUp","slideDown","execCommand","viewerText","product_viewingProduct_text","numbersViewer_text","product_viewingProduct_viewer","numbersViewerList","timeViewer","product_viewingProduct_change","numbersViewerItem","$swatchWrapper","$imageWrapper","$textWrapper","$this","$color","$color2","$color3","$pattern","el","getElementById","Sortable","animation","show_product_details_tabs","show_custom_tab","show_custom_tab_type","show_custom_tab_link","getPage","appendTo","show_shipping_tab","show_shipping_tab_type","show_shipping_tab_link","showMorebtn","descMobile","textShowMore","textShowLess","relatedProducts","similarProducts","PageManager"],"sourceRoot":""}